<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Move-Up Mortgage Calculator</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 0; padding: 0;
    background: #f7f7f7;
  }
  .container {
    max-width: 900px; margin: 20px auto;
    background: #fff; padding: 20px;
    border-radius: 10px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.1);
  }
  h1 {
    text-align: center;
    margin-bottom: 20px;
  }
  .toggle-buttons {
    display: flex;
    justify-content: center;
    gap: 15px;
    margin-bottom: 25px;
  }
  .toggle-buttons button {
    padding: 10px 20px;
    font-size: 16px;
    cursor: pointer;
    border-radius: 8px;
    border: 1px solid #ccc;
    background: #fff;
  }
  .toggle-buttons button.active {
    background: #0077cc;
    color: #fff;
    border-color: #0077cc;
  }
  .section {
    display: none;
  }
  .section.active {
    display: block;
  }
  label { font-weight: bold; display: block; margin-top: 15px; }
  input {
    width: 100%; padding: 10px; margin-top: 5px;
    font-size: 16px; border-radius: 6px; border: 1px solid #ccc;
  }
  .results {
    background: #eef5ff;
    padding: 15px;
    margin-top: 20px;
    border-radius: 8px;
  }
  footer {
    text-align: center;
    margin-top: 25px;
    color: #777;
    font-size: 14px;
  }
</style>
</head>

<body>
<div class="container">

<h1>Move-Up Mortgage Calculator</h1>

<div class="toggle-buttons">
  <button id="sellToggle" class="active" onclick="showSection('sell')">Sell Current Home</button>
  <button id="rentToggle" onclick="showSection('rent')">Keep as Rental</button>
</div>

<!-- SELL SECTION -->
<div id="sellSection" class="section active">
  <label>Purchase Price</label>
  <input type="number" id="purchasePriceSell" value="525000">

  <label>Interest Rate (%)</label>
  <input type="number" id="rateSell" value="6.25">

  <label>Tax Rate (%)</label>
  <input type="number" id="taxSell" value="0.5">

  <label>Current Home Value Estimate</label>
  <input type="number" id="currentValue" value="600000">

  <label>Current Mortgage Balance</label>
  <input type="number" id="currentBalance" value="225000">

  <label>Additional Down Payment (Optional)</label>
  <input type="number" id="extraDownSell" value="0">

  <button onclick="calculateSell()" style="margin-top:20px;">Calculate</button>

  <div id="sellResults" class="results"></div>
</div>

<!-- RENT SECTION -->
<div id="rentSection" class="section">

  <label>Purchase Price</label>
  <input type="number" id="purchasePriceRent" value="525000">

  <label>Down Payment (%)</label>
  <input type="number" id="downRent" value="5">

  <label>Interest Rate (%)</label>
  <input type="number" id="rateRent" value="6.25">

  <label>Expected Rent</label>
  <input type="number" id="rentAmount" value="2500">

  <label>Current Mortgage Payment</label>
  <input type="number" id="mortgageRent" value="1300">

  <button onclick="calculateRent()" style="margin-top:20px;">Calculate</button>

  <div id="rentResults" class="results"></div>
</div>

<footer>
  Estimates only. Not a commitment to lend. Always verify numbers with a licensed lender.
</footer>

</div>

<script>
function showSection(section) {
  document.getElementById("sellSection").classList.remove("active");
  document.getElementById("rentSection").classList.remove("active");
  document.getElementById("sellToggle").classList.remove("active");
  document.getElementById("rentToggle").classList.remove("active");

  if (section === "sell") {
    document.getElementById("sellSection").classList.add("active");
    document.getElementById("sellToggle").classList.add("active");
  } else {
    document.getElementById("rentSection").classList.add("active");
    document.getElementById("rentToggle").classList.add("active");
  }
}

function pmt(rate, nper, pv) {
  let r = rate / 100 / 12;
  return (pv * r) / (1 - Math.pow(1 + r, -nper));
}

function calculateSell() {
  let purchase = +document.getElementById("purchasePriceSell").value;
  let rate = +document.getElementById("rateSell").value;
  let tax = +document.getElementById("taxSell").value;
  let currentValue = +document.getElementById("currentValue").value;
  let currentBalance = +document.getElementById("currentBalance").value;
  let extraDown = +document.getElementById("extraDownSell").value;

  let equity = currentValue - currentBalance;
  let down = equity + extraDown;
  if (down < 0) down = 0;

  let loanAmount = purchase - down;
  let payment = pmt(rate, 360, loanAmount);

  let taxMonthly = (purchase * (tax / 100)) / 12;

  document.getElementById("sellResults").innerHTML = `
    <strong>Estimated New Payment:</strong> $${(payment + taxMonthly).toFixed(2)}
    <br><strong>Down Payment:</strong> $${down.toLocaleString()}
    <br><strong>Loan Amount:</strong> $${loanAmount.toLocaleString()}
  `;
}

function calculateRent() {
  let purchase = +document.getElementById("purchasePriceRent").value;
  let downPercent = +document.getElementById("downRent").value;
  let rate = +document.getElementById("rateRent").value;
  let rentAmt = +document.getElementById("rentAmount").value;
  let mortgage = +document.getElementById("mortgageRent").value;

  let downDollar = purchase * (downPercent / 100);
  let loanAmount = purchase - downDollar;

  let payment = pmt(rate, 360, loanAmount);

  let rentNet = rentAmt * 0.85; // 15% expense assumption
  let applied = rentNet - mortgage;

  document.getElementById("rentResults").innerHTML = `
    <strong>New Payment Before Rent Offset:</strong> $${payment.toFixed(2)}
    <br><strong>Net Rent After 15% Reserves:</strong> $${rentNet.toFixed(2)}
    <br><strong>Amount Applied Toward New Payment:</strong> $${applied.toFixed(2)}
    <br><strong>Effective Payment:</strong> $${(payment - applied).toFixed(2)}
  `;
}
</script>

</body>
</html>
